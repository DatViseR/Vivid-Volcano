% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vivid_functions.R
\name{filter_gsea_results}
\alias{filter_gsea_results}
\title{Filter GSEA Results}
\usage{
filter_gsea_results(
  enrichment_results_list,
  filter_pattern,
  log_messages_rv,
  log_event
)
}
\arguments{
\item{enrichment_results_list}{List containing GSEA results with structure:
  \itemize{
    \item all_results: Complete results for each regulation type
    \item top_results: Significant results (p_adj < 0.05, fold enrichment >= 1.5)
    \item top10_results: Top 10 results regardless of significance
    \item missing_genes: List of genes not found in analysis
  }
Each results component contains three sub-lists: up, down, and bidirectional}

\item{filter_pattern}{Character string containing the pattern to match against GO terms}

\item{log_messages_rv}{Reactive value for storing log messages}

\item{log_event}{Logging function created by create_logger()}
}
\value{
A list with the same structure as the input, but filtered:
  \itemize{
    \item all_results: Filtered complete results
    \item top_results: Rebuilt top significant results from filtered data
    \item top10_results: Rebuilt top 10 results from filtered data
    \item missing_genes: Unchanged from input
  }
}
\description{
Filters Gene Set Enrichment Analysis (GSEA) results based on a pattern 
match, keeping the most significant matching term for each category while 
preserving the original structure and non-matching terms.
}
\details{
Filter Gene Set Enrichment Analysis Results


Filtering Process:
\enumerate{
  \item For each regulation type (up, down, bidirectional):
    \itemize{
      \item Finds terms matching the pattern (case-insensitive)
      \item Keeps only the most significant matching term
      \item Preserves all non-matching terms
      \item Maintains original sorting by adjusted p-value
    }
  \item Rebuilds result categories:
    \itemize{
      \item top_results: Significant terms (p_adj < 0.05, fold enrichment >= 1.5)
      \item top10_results: Top 10 terms by significance
    }
}
}
\note{
Required columns in input data frames:
\itemize{
  \item name: GO term name
  \item p_adj: Adjusted p-value
  \item p_value: Raw p-value
  \item fold_enrichment: Enrichment ratio
}
}
\section{Filtering Rules}{

\itemize{
  \item Pattern matching is case-insensitive
  \item Empty data frames are returned unchanged
  \item If no matches are found, original data is returned
  \item For multiple matches, only the most significant term is kept
  \item Non-matching terms are preserved
}
}

\examples{
\dontrun{
# In Shiny server context
server <- function(input, output, session) {
  log_messages <- reactiveVal("")
  logger <- create_logger(session)
  
  # Example GSEA results
  enrichment_results <- list(
    all_results = list(
      up = data.frame(
        name = c("DNA repair", "DNA replication", "cell cycle"),
        p_adj = c(0.01, 0.02, 0.03),
        p_value = c(0.005, 0.01, 0.015),
        fold_enrichment = c(2.5, 2.0, 1.8)
      ),
      down = data.frame(...),
      bidirectional = data.frame(...)
    ),
    top_results = list(...),
    top10_results = list(...)
  )
  
  # Filter for DNA-related terms
  filtered_results <- filter_gsea_results(
    enrichment_results_list = enrichment_results,
    filter_pattern = "DNA",
    log_messages = log_messages,
    log_event = logger
  )
}
}

}
\seealso{
\code{\link{create_logger}} for logging functionality
}
\author{
Tomasz StÄ™pkowski <dzdzstepel@gmail.com>
}
