% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vivid_functions.R
\name{build_gsea_gt_table}
\alias{build_gsea_gt_table}
\title{Build GSEA GT Table}
\usage{
build_gsea_gt_table(
  enrichment_results_list,
  color_highlight,
  log_messages_rv,
  log_event
)
}
\arguments{
\item{enrichment_results_list}{List containing GSEA results with structure:
\itemize{
  \item top_results
    \itemize{
      \item bidirectional: Data frame of bidirectionally regulated terms
      \item up: Data frame of up-regulated terms
      \item down: Data frame of down-regulated terms
    }
}}

\item{color_highlight}{Character vector of length 2 containing hex color codes:
\itemize{
  \item [1]: Color for down-regulated genes section
  \item [2]: Color for up-regulated genes section
}}

\item{log_messages_rv}{Reactive value for storing log messages}

\item{log_event}{Logging function created by create_logger()}
}
\value{
A GT table object containing the formatted GSEA results, or a simple 
message table if no significant results are found.
}
\description{
Creates a formatted GT (Grammar of Tables) table displaying Gene Set 
Enrichment Analysis (GSEA) results. The table includes separate sections for 
up-regulated, down-regulated, and bidirectionally-regulated genes with custom 
styling and informative footnotes.
}
\details{
Build GSEA Results Table using GT Package


Table Structure:
\itemize{
  \item Title: "Gene Set Enrichment Analysis Results"
  \item Subtitle: "Significantly enriched Gene Ontology terms"
  \item Columns:
    \itemize{
      \item GO Term: Name of the GO term
      \item Detected Genes in Term: Total number of genes in the GO term
      \item Regulated Genes in Term: Number of regulated genes in the term
      \item Fold Enrichment: Enrichment ratio (2 decimal places)
      \item P-value: Raw p-value (<0.001 or 3 decimal places)
      \item Adjusted P-value: BH-adjusted p-value (<0.001 or 3 decimal places)
    }
}

Styling Features:
\itemize{
  \item Custom background colors for regulation groups
  \item Bold column headers and group labels
  \item 12px font size
  \item Full-width table layout
  \item Informative footnotes for statistical measures
}
}
\note{
- Required columns in input data frames: name, p_value, p_adj, regulated_count, 
  total_count, fold_enrichment
- Returns a simple message table if no significant results are found
- Group styling uses bidirectional (gray), up-regulated (user-defined), and 
  down-regulated (user-defined) colors
}
\section{Footnotes}{

The table includes detailed footnotes explaining:
\itemize{
  \item Adjusted p-value calculation using Benjamini-Hochberg method
  \item Raw p-value calculation using hypergeometric test
  \item Interpretation of fold enrichment values
}
}

\examples{
\dontrun{
# In Shiny server context
server <- function(input, output, session) {
  log_messages <- reactiveVal("")
  logger <- create_logger(session)
  
  # Example enrichment results
  enrichment_results <- list(
    top_results = list(
      bidirectional = data.frame(
        name = c("DNA repair", "Cell cycle"),
        p_value = c(0.001, 0.01),
        p_adj = c(0.005, 0.03),
        regulated_count = c(10, 15),
        total_count = c(100, 150),
        fold_enrichment = c(2.5, 1.8)
      ),
      up = data.frame(...),
      down = data.frame(...)
    )
  )
  
  # Create table with custom colors
  gsea_table <- build_gsea_gt_table(
    enrichment_results_list = enrichment_results,
    color_highlight = c("#FFE6E6", "#E6FFE6"),  # Light red and light green
    log_messages = log_messages,
    log_event = logger
  )
}
}

}
\seealso{
\code{\link{create_logger}} for logging functionality
}
